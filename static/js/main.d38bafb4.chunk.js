(this["webpackJsonpomdb-shopify"]=this["webpackJsonpomdb-shopify"]||[]).push([[0],{101:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},112:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(0),i=a.n(c),o=a(11),r=a.n(o),s=(a(101),a(57)),l=a(12),b=(a(102),a(103),a(66)),d=a(150),j=a(152),u=a(35),m=a(171),h=a(147),g=a(9),O=a(72),p=a.n(O),x=a(71),f=a.n(x),v=(a(104),Object(h.a)((function(e){return{OMDBTitle:{fontFamily:"BebasNeue",fontSize:"300%",width:"100%"},appBar:{backgroundColor:"#181818"},root:{flexGrow:1},movieIcon:{fontSize:"310%",marginRight:e.spacing(2),color:"#ff316f"},search:Object(b.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(g.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(g.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"30%"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(b.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}))),S=function(e){var t=v();return Object(n.jsx)("div",{className:t.root,children:Object(n.jsx)(d.a,{position:"static",className:t.appBar,children:Object(n.jsxs)(j.a,{children:[Object(n.jsx)(f.a,{className:t.movieIcon}),Object(n.jsx)(u.a,{className:t.OMDBTitle,variant:"h4",noWrap:!0,children:"OMDB MOVIES"}),Object(n.jsxs)("div",{className:t.search,children:[Object(n.jsx)("div",{className:t.searchIcon,children:Object(n.jsx)(p.a,{})}),Object(n.jsx)(m.a,{placeholder:"Search\u2026",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},onChange:function(t){return e.setSearchTerm(t.target.value)}})]})]})})})},k=a(160),N=a(166),y=a(58),w=a(75),C=a.n(w),P=a(76),I=a.n(P),D=a(170),E=a(164),B=a(162),T=a(161),F=a(168),M=a(77),L=a.n(M),R=a(167),W=a(165),H=a(41),G=a.n(H),J=a(55),z=a(154),Y=a(155),A=a(156),K=a(158),U=a(157),V=a(159),q=a(73),Q=a.n(q),X=a(153),Z=Object(h.a)((function(e){return{resultEntry:{alignItems:"flex-start"},root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.black,maxHeight:"100%",overflow:"auto"},nominateIcon:{color:"#55ff00"}}})),$=function(e){var t=Z(),a=i.a.useState([0]),o=Object(l.a)(a,2),r=(o[0],o[1],Object(c.useState)([])),s=Object(l.a)(r,2),b=s[0],d=s[1];Object(c.useEffect)((function(){console.log("Search term was changed, ",e.searchTerm),j()}),[e.searchTerm,e.currentPage]);var j=function(){var t=Object(J.a)(G.a.mark((function t(){var a,n,c,i,o,r,s,l;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="https://www.omdbapi.com/?s="+e.searchTerm+"&apikey=a7d62505&page="+e.currentPage,t.next=3,fetch(a);case 3:return n=t.sent,t.next=6,n.json();case 6:if((c=t.sent).Search){if(i=parseInt(c.totalResults),e.nominatedMoviesList)for(o=0;o<c.Search.length;o++)for(c.Search[o].disableNominate=!1,r=0;r<e.nominatedMoviesList.length;r++)console.log("Search id ",c.Search[o].imdbID," storageid ",e.nominatedMoviesList[r].imdbID),c.Search[o].imdbID===e.nominatedMoviesList[r].imdbID&&(console.log("Disabled comparison succeeded "),c.Search[o].disableNominate=!0);else for(s=0;s<c.Search.length;s++)c.Search[s].disableNominate=!1;d(c.Search),l=Math.ceil(i/c.Search.length),e.setMaxPages(l)}case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.jsx)(X.a,{children:Object(n.jsx)(z.a,{className:t.root,children:b.map((function(a,c){return Object(n.jsxs)(Y.a,{role:void 0,dense:!0,button:!0,onClick:function(){e.onEntryClicked(a)},children:[Object(n.jsx)(A.a,{children:Object(n.jsx)("img",{src:a.Poster,alt:"movie",width:50})}),Object(n.jsx)(U.a,{className:t.resultEntry,primary:"".concat(a.Title," - (").concat(a.Year,")"),secondary:Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(u.a,{component:"span",variant:"body2",className:t.inline,color:"white"}),"ImDB Link"]})}),Object(n.jsx)(K.a,{children:Object(n.jsx)(V.a,{edge:"end","aria-label":"nominate",disabled:a.disableNominate,onClick:function(){console.log("movie clickeddd",a.Title),e.onNominateClicked(a)},children:a.disableNominate?null:Object(n.jsx)(Q.a,{className:t.nominateIcon})})})]},a.imdbID)}))})})},_=a(74),ee=a.n(_),te=Object(h.a)((function(e){return{resultEntry:{alignItems:"flex-start"},root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.black,maxHeight:"100%",overflow:"auto"},removeNominationButton:{color:"red"}}})),ae=function(e){var t=te(),a=i.a.useState([0]),c=Object(l.a)(a,2);c[0],c[1];return Object(n.jsx)(X.a,{children:Object(n.jsx)(z.a,{className:t.root,children:e.movies.map((function(a,c){return Object(n.jsxs)(Y.a,{role:void 0,dense:!0,button:!0,onClick:function(){console.log("clickedd search result")},children:[Object(n.jsx)(A.a,{children:Object(n.jsx)("img",{src:a.Poster,alt:"movie",width:50})}),Object(n.jsx)(U.a,{className:t.resultEntry,primary:"".concat(a.Title," - (").concat(a.Year,")"),secondary:Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(u.a,{component:"span",variant:"body2",className:t.inline,color:"white"}),"ImDB Link"]})}),Object(n.jsx)(K.a,{children:Object(n.jsx)(V.a,{edge:"end","aria-label":"nominate",onClick:function(){e.onRemoveNominationClicked(a)},children:Object(n.jsx)(ee.a,{className:t.removeNominationButton})})})]},a.imdbID)}))})})},ne=a(163),ce=function(e){var t=i.a.useState(!1),a=Object(l.a)(t,2),o=a[0],r=a[1],s=function(){r(!1)};return Object(c.useEffect)((function(){!0===e.open?r(!0):r(!1)}),[e.open]),Object(n.jsxs)("div",{children:[e.hideButton?Object(n.jsx)(k.a,{variant:"outlined",color:"primary",onClick:function(){r(!0)},children:"SUBMIT"}):null,Object(n.jsxs)(D.a,{open:o,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(T.a,{children:"Nominations Submitted"}),Object(n.jsx)(B.a,{children:e.nominations.map((function(e,t){return Object(n.jsxs)(ne.a,{children:[t+1,". ",e.Title]})}))}),Object(n.jsx)(E.a,{children:Object(n.jsx)(k.a,{onClick:s,color:"primary",children:"CLOSE"})})]})]})},ie=a(172),oe=a(59),re=a(114),se=Object(h.a)((function(e){return{Paper:{width:700},root:{flexGrow:1},moveMoreInfo:{padding:e.spacing(2),maxWidth:"md"},image:{justifyContent:"space-evenly",maxWidth:200,maxHeight:300},img:{justifyContent:"space-evenly",margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"},rating:{width:"20%",fontSize:"100%"}}})),le=function(e){var t=se(),a=i.a.useState({}),o=Object(l.a)(a,2),r=o[0],s=o[1],b=i.a.useState(""),d=Object(l.a)(b,2),j=d[0],m=d[1],h=function(){var e=Object(J.a)(G.a.mark((function e(){var t,a,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Get additional data "),t="https://www.omdbapi.com/?i="+j+"&apikey=a7d62505&plot=full",e.next=4,fetch(t);case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,s(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){e.movie.imdbID&&(m(e.movie.imdbID),h())}),[e.movie]),Object(n.jsx)(X.a,{overflow:"hidden",fullWidth:!0,maxWidth:"md",scroll:"body",open:e.open,keepMounted:!0,children:e.visible?Object(n.jsx)(re.a,{className:t.Paper,children:Object(n.jsxs)(W.a,{container:!0,spacing:2,fullWidth:!0,children:[Object(n.jsx)(W.a,{item:!0,children:Object(n.jsx)(oe.a,{className:t.image,children:Object(n.jsx)("img",{className:t.img,alt:"complex",src:r.Poster})})}),Object(n.jsx)(W.a,{item:!0,xs:12,sm:!0,container:!0,children:Object(n.jsxs)(W.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2,children:[Object(n.jsxs)(W.a,{item:!0,xs:!0,children:[Object(n.jsx)(u.a,{gutterBottom:!0,variant:"h5",children:r.Title}),Object(n.jsx)(u.a,{variant:"body2",gutterBottom:!0,children:r.Plot})]}),Object(n.jsx)(W.a,{item:!0,justify:"flex-end",children:Object(n.jsx)(ie.a,{className:t.rating,label:r.imdbRating+"/10",color:"secondary"})})]})})]})}):null})},be=Object(h.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,width:600,position:"relative",minHeight:200},nextPageFab:{position:"absolute",color:e.palette.common.white,backgroundColor:y.a[900],"&:hover":{backgroundColor:"#f50057"},bottom:e.spacing(4),right:e.spacing(4)},pageIndicatorFab:{position:"absolute",bottom:e.spacing(4),right:e.spacing(12)},prevPageFab:{position:"absolute",color:e.palette.common.white,backgroundColor:y.a[900],"&:hover":{backgroundColor:"#f50057"},bottom:e.spacing(4),right:e.spacing(20)}}})),de=Object(h.a)((function(e){return{root:{flexGrow:1,height:"100%"},paper:{justifyContent:"center",height:800,width:"100%"},control:{padding:e.spacing(2)}}})),je=function(e){var t=be(),a=Object(c.useState)(!1),i=Object(l.a)(a,2),o=i[0],r=i[1],s=Object(c.useState)(1),b=Object(l.a)(s,2),d=b[0],j=b[1],u=Object(c.useState)(!1),m=Object(l.a)(u,2),h=m[0],g=m[1],O=Object(c.useState)(""),p=Object(l.a)(O,2),x=p[0],f=p[1],v=function(){r(!1)},S=[{color:"inherit",className:t.nextPageFab,icon:Object(n.jsx)(C.a,{}),label:"Next",clickHandler:function(t){var a=e.currentPage+1;a<=e.maxPages&&(e.setCurrentPage(a),console.log("Current page changed ",e.currentPage))}},{color:"secondary",className:t.pageIndicatorFab,icon:"".concat(e.currentPage,"/").concat(e.maxPages),label:"".concat(e.currentPage,"/").concat(e.maxPages),clickHandler:function(e){r(!0)}},{color:"inherit",className:t.prevPageFab,icon:Object(n.jsx)(I.a,{}),label:"Prev",clickHandler:function(t){var a=e.currentPage-1;a>=e.minPages&&(e.setCurrentPage(a),console.log("prev current page changed ",a))}}];return Object(n.jsxs)(n.Fragment,{children:[S.map((function(e,t){return Object(n.jsx)(N.a,{"aria-label":e.label,className:e.className,color:e.color,onClick:e.clickHandler,children:e.icon})})),Object(n.jsxs)(D.a,{open:o,onClose:v,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(T.a,{id:"form-dialog-title",children:"Enter Page Number"}),Object(n.jsx)(B.a,{children:Object(n.jsx)(F.a,{autoFocus:!0,margin:"dense",id:"pageNumber",label:"Page Number",type:"number",fullWidth:!0,error:h,helperText:x,onChange:function(t){e.minPages<=t.target.value&&t.target.value<=e.maxPages?(j(t.target.value),g(!1),f("")):(g(!0),f("Input a page number between ".concat(e.minPages,"-").concat(e.maxPages)))},onKeyDown:function(t){"Enter"===t.key&&(h||(r(!1),e.setCurrentPage(d),t.preventDefault()))},InputProps:{startAdornment:Object(n.jsx)(R.a,{position:"start",children:Object(n.jsx)(L.a,{})})}})}),Object(n.jsx)(E.a,{children:Object(n.jsx)(k.a,{onClick:v,color:"primary",children:"CLOSE"})})]})]})};var ue=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),a=t[0],i=t[1],o=Object(c.useState)(!1),r=Object(l.a)(o,2),b=r[0],d=r[1],j=Object(c.useState)(!1),m=Object(l.a)(j,2),h=m[0],g=m[1],O=Object(c.useState)([]),p=Object(l.a)(O,2),x=(p[0],p[1],Object(c.useState)(1)),f=Object(l.a)(x,2),v=f[0],k=f[1],N=Object(c.useState)([]),y=Object(l.a)(N,2),w=y[0],C=y[1],P=Object(c.useState)(1),I=Object(l.a)(P,2),D=I[0],E=I[1],B=Object(c.useState)(!1),T=Object(l.a)(B,2),F=T[0],M=T[1],L=Object(c.useState)(!1),R=Object(l.a)(L,2),H=R[0],G=R[1],J=Object(c.useState)({}),z=Object(l.a)(J,2),Y=z[0],A=z[1];Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("omdb-app-nominations"));console.log("Nominated movies local storage ",e),e&&C(e)}),[]),Object(c.useEffect)((function(){a.length>=3&&d(!0),w.length>0&&g(!0)}),[a,w]);var K=function(e){localStorage.setItem("omdb-app-nominations",JSON.stringify(e))},U=de();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(S,{setSearchTerm:i}),Object(n.jsxs)(W.a,{container:!0,className:U.root,spacing:6,xs:12,children:[Object(n.jsxs)(W.a,{item:!0,xs:3,direction:"column",alignItems:"center",children:[b?Object(n.jsx)(u.a,{variant:"h5",align:"center",children:"Search Results"}):null,Object(n.jsx)($,{searchTerm:a,nominatedMoviesList:w,onNominateClicked:function(e){if(w.length<5){e.disableNominate=!0;var t=[].concat(Object(s.a)(w),[e]);C(t),K(t)}else M(!0)},setMaxPages:E,currentPage:v,onEntryClicked:function(e){A(e),G(!0)}})]}),Object(n.jsxs)(W.a,{item:!0,xs:3,align:"center",children:[h?Object(n.jsx)(u.a,{variant:"h5",align:"center",children:"Nominations"}):null,Object(n.jsx)(ae,{movies:w,onRemoveNominationClicked:function(e){e.disableNominate=!1;var t=w.filter((function(t){return t.imdbID!==e.imdbID}));C(t),K(t)}}),Object(n.jsx)(ce,{hideButton:h,open:F,nominations:w})]}),Object(n.jsx)(W.a,{item:!0,xs:3,direction:"column",alignItems:"center",children:Object(n.jsx)(le,{visible:H,movie:Y})})]}),Object(n.jsx)(je,{maxPages:D,minPages:1,currentPage:v,setCurrentPage:k})]})},me=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,174)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),i(e),o(e)}))};r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(ue,{})}),document.getElementById("root")),me()}},[[112,1,2]]]);
//# sourceMappingURL=main.d38bafb4.chunk.js.map