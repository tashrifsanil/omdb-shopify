(this["webpackJsonpomdb-shopify"]=this["webpackJsonpomdb-shopify"]||[]).push([[0],{108:function(e,t,a){},110:function(e,t,a){},120:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a(0),c=a.n(i),o=a(10),r=a.n(o),s=(a(108),a(65)),l=a(11),d=(a(109),a(110),a(111),a(112),a(83)),j=a(173),b=a(163),m=a(162),u=a(177),h=a(161),g=a(159),x=a(160),O=a(158),p=function(e){var t=c.a.useState(!1),a=Object(l.a)(t,2),o=a[0],r=a[1],s=function(){r(!1)};return Object(i.useEffect)((function(){!0===e.open?r(!0):r(!1)}),[e.open,e.nominations]),Object(n.jsx)("div",{children:Object(n.jsxs)(u.a,{open:o,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(O.a,{children:"Nominations Submitted"}),Object(n.jsx)(g.a,{children:e.nominations.map((function(e,t){return Object(n.jsxs)(x.a,{children:[t+1,". ",e.Title]})}))}),Object(n.jsx)(h.a,{children:Object(n.jsx)(m.a,{onClick:s,color:"primary",children:"CLOSE"})})]})})},f=a(165),v=a(41),N=a.n(v),k=a(57),y=a(164),S=a(166),C=a(74),w=a.n(C),P=a(75),I=a.n(P),L=a(66),D=a.p+"static/media/imdbIcon.b9cd8583.svg",E=Object(b.a)((function(e){return{root:{flexGrow:1,paddingBottom:"5%"},moveMoreInfo:{padding:e.spacing(2),maxWidth:"md"},image:{justifyContent:"space-evenly",maxWidth:200,maxHeight:300},img:{justifyContent:"space-evenly",margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"},rating:{backgroundColor:e.palette.info.main,width:"20%",fontSize:"100%"},cover:{width:"100%"},fallbackPoster:{fontSize:"100%",width:"100%",height:"100%"},ratingMargin:{margin:e.spacing(1)},imdbLink:{maxWidth:50,backgroundColor:e.palette.warning.light,color:"black"}}})),M=function(e){var t=E(),a=c.a.useState({}),o=Object(l.a)(a,2),r=o[0],s=o[1],d=c.a.useState(""),j=Object(l.a)(d,2),b=(j[0],j[1]),m=function(){var t=Object(k.a)(N.a.mark((function t(){var a,n,i;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Get additional data "),a="https://www.omdbapi.com/?i="+e.movie.imdbID+"&apikey=a7d62505&plot=full",t.next=4,fetch(a);case 4:return n=t.sent,t.next=7,n.json();case 7:i=t.sent,s(i);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(i.useEffect)((function(){e.movie&&(b(e.movie.imdbID),m())}),[e.movie]),Object(n.jsx)(n.Fragment,{children:e.visible?Object(n.jsx)(y.a,{className:t.root,children:Object(n.jsxs)(f.a,{container:!0,direction:"row",fullWidth:!0,spacing:2,justify:"space-evenly",children:[Object(n.jsx)(f.a,{item:!0,xs:4,children:"N/A"!==e.movie.Poster?Object(n.jsx)("img",{className:t.cover,src:e.movie.Poster,alt:""}):Object(n.jsx)(w.a,{className:t.fallbackPoster})}),Object(n.jsxs)(f.a,{item:!0,container:!0,xs:8,children:[Object(n.jsx)(f.a,{item:!0,xs:8,children:Object(n.jsx)(L.a,{variant:"h4",children:e.movie.Title})}),Object(n.jsx)(f.a,{item:!0,xs:8,children:Object(n.jsx)(L.a,{variant:"h6",children:e.movie.Year})}),Object(n.jsx)(f.a,{item:!0,xs:8,children:Object(n.jsx)(L.a,{variant:"button",color:"secondary",children:r.Genre})}),Object(n.jsx)(f.a,{item:!0,xs:8,children:Object(n.jsxs)(L.a,{variant:"subtitle1",children:["Languages: ",r.Language]})}),Object(n.jsx)(f.a,{item:!0,xs:8,children:Object(n.jsxs)(L.a,{variant:"subtitle1",children:["Country: ",r.Country]})}),Object(n.jsx)(f.a,{item:!0,container:!0,xs:8,children:Object(n.jsxs)(f.a,{item:!0,children:[Object(n.jsxs)(S.a,{variant:"extended",size:"small",color:"primary",className:t.rating,children:[Object(n.jsx)(I.a,{className:t.ratingMargin}),r.Metascore,"N/A"!==r.Metascore?"/100":null]}),Object(n.jsx)(S.a,{variant:"extended",size:"small",color:"secondary",className:t.ratingMargin,children:r.Rated}),Object(n.jsx)("a",{href:"https://www.imdb.com/title/".concat(e.movie.imdbID),children:Object(n.jsx)("img",{src:D,className:t.imdbLink})})]})}),Object(n.jsxs)(f.a,{item:!0,xs:8,children:["Actors:"," ",Object(n.jsx)(L.a,{variant:"button",children:r.Actors})]}),Object(n.jsx)(f.a,{item:!0,xs:8,children:Object(n.jsx)(L.a,{variant:"button",color:"secondary"})}),Object(n.jsx)(f.a,{item:!0,xs:8,children:Object(n.jsx)(L.a,{variant:"body",children:r.Writers})})]}),Object(n.jsx)(f.a,{item:!0}),Object(n.jsxs)(f.a,{item:!0,container:!0,xs:11,spacing:2,children:[Object(n.jsx)(L.a,{variant:"h4",children:"Plot"}),Object(n.jsx)(f.a,{item:!0,children:Object(n.jsx)(L.a,{variant:"body",paragraph:!0,children:r.Plot})})]})]})}):null})},F=a(175),T=a(26),B=a(168),R=a(167),H=a(169),W=a(76),z=a.n(W),A=Object(b.a)((function(e){return{root:{display:"flex",width:"97%"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto",height:100},title:{},cover:{width:151,height:170},controls:{display:"flex",alignItems:"center",paddingLeft:e.spacing(2),paddingBottom:e.spacing(2)},removeNominationButton:{justify:"flex-end"},removeNominationIcon:{color:e.palette.error.main}}})),G=function(e){var t=A();Object(T.a)();return Object(n.jsxs)(y.a,{className:t.root,children:[Object(n.jsx)(R.a,{className:t.cover,image:e.movie.Poster,title:e.movie.imdbID}),Object(n.jsxs)("div",{className:t.details,children:[Object(n.jsxs)(B.a,{className:t.content,children:[Object(n.jsx)(L.a,{className:t.title,component:"h5",variant:"h5",children:e.movie.Title}),Object(n.jsx)(L.a,{variant:"subtitle1",color:"textSecondary",children:e.movie.Year})]}),Object(n.jsx)("div",{className:t.controls,children:Object(n.jsx)(H.a,{className:t.removeNominationButton,"aria-label":"nominate",onClick:function(){e.onRemoveNominationClicked(e.movie)},children:Object(n.jsx)(z.a,{className:t.removeNominationIcon})})})]})]})},J=Object(b.a)((function(e){return{resultEntry:{alignItems:"flex-start"},root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.black,maxHeight:"100%",overflow:"auto"},removeNominationButton:{color:"red"}}})),Y=function(e){J();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(F.a,{children:e.movies.map((function(t,a){return Object(n.jsx)(G,{movie:t,onRemoveNominationClicked:e.onRemoveNominationClicked})}))})})},K=a(78),q=a.n(K),Q=a(77),U=a.n(Q),V=a(79),X=a.n(V),Z=a(170),$=a(174),_=a(58),ee=Object(b.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,width:600,position:"relative",minHeight:200},nextPageFab:{position:"absolute",color:e.palette.common.white,backgroundColor:_.a[900],"&:hover":{backgroundColor:"#f50057"},bottom:e.spacing(1),right:e.spacing(190)},pageIndicatorFab:{position:"absolute",bottom:e.spacing(1),right:e.spacing(198)},prevPageFab:{position:"absolute",color:e.palette.common.white,backgroundColor:_.a[900],"&:hover":{backgroundColor:"#f50057"},bottom:e.spacing(1),right:e.spacing(206)}}})),te=function(e){var t=ee(),a=Object(i.useState)(!1),c=Object(l.a)(a,2),o=c[0],r=c[1],s=Object(i.useState)(1),d=Object(l.a)(s,2),j=d[0],b=d[1],x=Object(i.useState)(!1),p=Object(l.a)(x,2),f=p[0],v=p[1],N=Object(i.useState)(""),k=Object(l.a)(N,2),y=k[0],C=k[1],w=function(){r(!1)},P=[{color:"inherit",className:t.nextPageFab,icon:Object(n.jsx)(U.a,{}),label:"Next",clickHandler:function(t){var a=e.currentPage+1;a<=e.maxPages&&(e.setCurrentPage(a),console.log("Current page changed ",e.currentPage))}},{color:"secondary",className:t.pageIndicatorFab,icon:"".concat(e.currentPage,"/").concat(e.maxPages),label:"".concat(e.currentPage,"/").concat(e.maxPages),clickHandler:function(e){r(!0)}},{color:"inherit",className:t.prevPageFab,icon:Object(n.jsx)(q.a,{}),label:"Prev",clickHandler:function(t){var a=e.currentPage-1;a>=e.minPages&&(e.setCurrentPage(a),console.log("prev current page changed ",a))}}];return Object(n.jsxs)(n.Fragment,{children:[P.map((function(e,t){return Object(n.jsx)(S.a,{"aria-label":e.label,className:e.className,color:e.color,onClick:e.clickHandler,children:e.icon})})),Object(n.jsxs)(u.a,{open:o,onClose:w,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(O.a,{id:"form-dialog-title",children:"Enter Page Number"}),Object(n.jsx)(g.a,{children:Object(n.jsx)($.a,{autoFocus:!0,margin:"dense",id:"pageNumber",label:"Page Number",type:"number",fullWidth:!0,error:f,helperText:y,onChange:function(t){e.minPages<=t.target.value&&t.target.value<=e.maxPages?(b(t.target.value),v(!1),C("")):(v(!0),C("Input a page number between ".concat(e.minPages,"-").concat(e.maxPages)))},onKeyDown:function(t){"Enter"===t.key&&(f||(r(!1),e.setCurrentPage(j),t.preventDefault()))},InputProps:{startAdornment:Object(n.jsx)(Z.a,{position:"start",children:Object(n.jsx)(X.a,{})})}})}),Object(n.jsx)(h.a,{children:Object(n.jsx)(m.a,{onClick:w,color:"primary",children:"CLOSE"})})]})]})},ae=a(59),ne=a(14),ie=a(171),ce=a(178),oe=a(80),re=a.n(oe),se=a(81),le=a.n(se),de=a(172),je=Object(b.a)((function(e){return{root:{flexGrow:1},appBar:{backgroundColor:"#181818"},movieIcon:{fontSize:"250%",color:"#ff316f",marginRight:e.spacing(2),paddingTop:0,paddingBottom:0,paddingRight:0},title:Object(ae.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(ae.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ne.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(ne.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(ae.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}})),be=function(e){var t=je();return Object(n.jsx)("div",{className:t.root,children:Object(n.jsx)(ie.a,{position:"static",className:t.appBar,children:Object(n.jsxs)(de.a,{children:[Object(n.jsx)(re.a,{className:t.movieIcon}),Object(n.jsx)(L.a,{className:t.title,variant:"h6",noWrap:!0}),Object(n.jsxs)("div",{className:t.search,children:[Object(n.jsx)("div",{className:t.searchIcon,children:Object(n.jsx)(le.a,{})}),Object(n.jsx)(ce.a,{placeholder:"Search\u2026",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},onChange:function(t){return e.setSearchTerm(t.target.value)}})]})]})})})},me=a(82),ue=a.n(me),he=Object(b.a)((function(e){return{root:{display:"flex","&:hover":{backgroundColor:e.palette.secondary.main}},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto",height:100},title:{width:140},cover:{width:151,height:170},controls:{display:"flex",alignItems:"center",paddingLeft:e.spacing(15)},nominateButtton:{"&:hover":{backgroundColor:e.palette.secondary.light}}}})),ge=function(e){var t=he();return Object(n.jsxs)(y.a,{className:t.root,onClick:function(){console.log("Search card clicked"),e.onSearchEntryClicked(e.movie)},children:[Object(n.jsx)(R.a,{className:t.cover,image:e.movie.Poster,title:e.movie.imdbID}),Object(n.jsxs)("div",{className:t.details,children:[Object(n.jsxs)(B.a,{className:t.content,children:[Object(n.jsx)(L.a,{className:t.title,component:"h5",variant:"h5",children:e.movie.Title}),Object(n.jsx)(L.a,{variant:"subtitle1",color:"textSecondary",children:e.movie.Year})]}),Object(n.jsx)("div",{className:t.controls,children:Object(n.jsx)(H.a,{className:t.nominateButtton,"aria-label":"nominate",disabled:e.movie.disableNominate,onClick:function(){e.onNominateClicked(e.movie)},children:Object(n.jsx)(ue.a,{})})})]})]})},xe=function(e){var t=Object(i.useState)([]),a=Object(l.a)(t,2),c=a[0],o=a[1];Object(i.useEffect)((function(){console.log("Search term was changed, ",e.searchTerm),r()}),[e.searchTerm,e.currentPage,e.nominatedMoviesList]);var r=function(){var t=Object(k.a)(N.a.mark((function t(){var a,n,i,c,r,s,l,d;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="https://www.omdbapi.com/?s="+e.searchTerm+"&apikey=a7d62505&page="+e.currentPage,t.next=3,fetch(a);case 3:return n=t.sent,t.next=6,n.json();case 6:if((i=t.sent).Search){if(c=parseInt(i.totalResults),e.nominatedMoviesList)for(r=0;r<i.Search.length;r++)for(i.Search[r].disableNominate=!1,s=0;s<e.nominatedMoviesList.length;s++)console.log("Search id ",i.Search[r].imdbID," storageid ",e.nominatedMoviesList[s].imdbID),i.Search[r].imdbID===e.nominatedMoviesList[s].imdbID&&(console.log("Disabled comparison succeeded "),i.Search[r].disableNominate=!0);else for(l=0;l<i.Search.length;l++)i.Search[l].disableNominate=!1;o(i.Search),d=Math.ceil(c/10),e.setMaxPages(d)}case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.jsx)(f.a,{container:!0,children:c.map((function(t,a){return Object(n.jsx)(f.a,{item:!0,children:Object(n.jsx)(ge,{movie:t,onSearchEntryClicked:e.onSearchEntryClicked,onNominateClicked:e.onNominateClicked})})}))})},Oe=Object(b.a)((function(e){return{nominationsHeader:{paddingLeft:"1%",fontFamily:"Open Sans Light",width:"100%"}}}));var pe=function(){var e=Object(i.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(i.useState)(!1),r=Object(l.a)(o,2),b=r[0],m=r[1],u=Object(i.useState)(!1),h=Object(l.a)(u,2),g=h[0],x=h[1],O=Object(i.useState)(1),v=Object(l.a)(O,2),N=v[0],k=v[1],y=Object(i.useState)([]),S=Object(l.a)(y,2),C=S[0],w=S[1],P=Object(i.useState)(1),I=Object(l.a)(P,2),D=I[0],E=I[1],F=Object(i.useState)(!1),T=Object(l.a)(F,2),B=T[0],R=T[1],H=Object(i.useState)(!1),W=Object(l.a)(H,2),z=W[0],A=W[1],G=Object(i.useState)({}),J=Object(l.a)(G,2),K=J[0],q=J[1];Object(i.useEffect)((function(){var e=JSON.parse(localStorage.getItem("omdb-app-nominations"));console.log("Nominated movies local storage ",e),e&&w(e)}),[]),Object(i.useEffect)((function(){a.length>=3?m(!0):0===a.length&&(m(!1),A(!1)),C.length>0&&x(!0)}),[a,C]);var Q=function(e){localStorage.setItem("omdb-app-nominations",JSON.stringify(e))},U=Oe(),V=Object(d.a)({palette:{type:"dark"}});return Object(n.jsxs)(j.a,{theme:V,children:[Object(n.jsxs)(f.a,{container:!0,direction:"column",children:[Object(n.jsx)(f.a,{item:!0,xs:12,children:Object(n.jsx)(be,{setSearchTerm:c})}),Object(n.jsxs)(f.a,{item:!0,xs:12,container:!0,direction:"row",children:[Object(n.jsx)(f.a,{item:!0,container:!0,direction:"column",xs:5,children:Object(n.jsx)(f.a,{item:!0,children:b?Object(n.jsx)(xe,{searchTerm:a,currentPage:N,setMaxPages:E,onNominateClicked:function(e){if(C.length<4){e.disableNominate=!0;var t=[].concat(Object(s.a)(C),[e]);w(t),Q(t)}else if(4===C.length){e.disableNominate=!0;var a=[].concat(Object(s.a)(C),[e]);w(a),Q(a),R(!0)}else R(!0)},onSearchEntryClicked:function(e){q(e),console.log("Search Entry clicked ",K),A(!0)},nominatedMoviesList:C}):null})}),Object(n.jsx)(f.a,{item:!0,container:!0,direction:"row",xs:z?3:6,justify:"center",children:Object(n.jsxs)(f.a,{item:!0,xs:12,children:[C.length?Object(n.jsx)(L.a,{className:U.nominationsHeader,variant:"h4",children:"Nominations"}):null,Object(n.jsx)(Y,{movies:C,onRemoveNominationClicked:function(e){e.disableNominate=!1;var t=C.filter((function(t){return t.imdbID!==e.imdbID}));R(!1),w(t),Q(t)}})]})}),Object(n.jsx)(f.a,{item:!0,xs:4,children:Object(n.jsx)(M,{visible:z,movie:K})})]})]}),Object(n.jsx)(te,{maxPages:D,minPages:1,currentPage:N,setCurrentPage:k}),Object(n.jsx)(p,{hideButton:g,open:B,nominations:C})]})},fe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,181)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),i(e),c(e),o(e)}))};r.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(pe,{})}),document.getElementById("root")),fe()}},[[120,1,2]]]);
//# sourceMappingURL=main.9e9868d8.chunk.js.map