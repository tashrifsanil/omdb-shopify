(this["webpackJsonpomdb-shopify"]=this["webpackJsonpomdb-shopify"]||[]).push([[0],{115:function(e,t,a){},117:function(e,t,a){},125:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(0),i=a.n(c),o=a(10),r=a.n(o),s=(a(115),a(65)),l=a(11),b=(a(116),a(117),a(85)),d=a(179),j=a(168),u=a(183),m=a(167),h=a(165),g=a(166),p=a(164),O=function(e){var t=i.a.useState(!1),a=Object(l.a)(t,2),o=a[0],r=a[1],s=function(){r(!1)};return Object(c.useEffect)((function(){!0===e.open?r(!0):r(!1)}),[e.open,e.nominations]),Object(n.jsx)("div",{children:Object(n.jsxs)(u.a,{open:o,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(p.a,{children:"Nominations Submitted"}),Object(n.jsx)(h.a,{children:e.nominations.map((function(e,t){return Object(n.jsxs)(g.a,{children:[t+1,". ",e.Title]})}))}),Object(n.jsx)(m.a,{children:Object(n.jsx)(j.a,{onClick:s,color:"primary",children:"CLOSE"})})]})})},x=a(178),f=a(181),v=a(169),N=a(23),S=a(170),P=a(172),k=a(171),C=a(173),w=a(78),y=a.n(w),I=a(66),D=Object(v.a)((function(e){return{root:{display:"flex"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto",height:100},title:{},cover:{width:151,height:170},controls:{display:"flex",alignItems:"center",paddingLeft:e.spacing(100)},playIcon:{height:38,width:38}}})),L=function(e){var t=D();Object(N.a)();return Object(n.jsxs)(S.a,{className:t.root,children:[Object(n.jsx)(k.a,{className:t.cover,image:e.movie.Poster,title:e.movie.imdbID}),Object(n.jsxs)("div",{className:t.details,children:[Object(n.jsxs)(P.a,{className:t.content,children:[Object(n.jsx)(I.a,{className:t.title,component:"h5",variant:"h5",children:e.movie.Title}),Object(n.jsx)(I.a,{variant:"subtitle1",color:"textSecondary",children:e.movie.Year})]}),Object(n.jsx)("div",{className:t.controls,children:Object(n.jsx)(C.a,{"aria-label":"nominate",onClick:function(){e.onRemoveNominationClicked(e.movie)},children:Object(n.jsx)(y.a,{})})})]})]})},F=Object(v.a)((function(e){return{resultEntry:{alignItems:"flex-start"},root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.black,maxHeight:"100%",overflow:"auto"},removeNominationButton:{color:"red"}}})),T=function(e){F();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(f.a,{children:e.movies.map((function(t,a){return Object(n.jsx)(L,{movie:t,onRemoveNominationClicked:e.onRemoveNominationClicked})}))})})},E=a(80),R=a.n(E),M=a(79),B=a.n(M),H=a(174),J=a(63),W=a.n(J),G=a(175),Y=a(180),z=a(56),A=Object(v.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,width:600,position:"relative",minHeight:200},nextPageFab:{position:"absolute",color:e.palette.common.white,backgroundColor:z.a[900],"&:hover":{backgroundColor:"#f50057"},bottom:e.spacing(1),right:e.spacing(190)},pageIndicatorFab:{position:"absolute",bottom:e.spacing(1),right:e.spacing(198)},prevPageFab:{position:"absolute",color:e.palette.common.white,backgroundColor:z.a[900],"&:hover":{backgroundColor:"#f50057"},bottom:e.spacing(1),right:e.spacing(206)}}})),K=function(e){var t=A(),a=Object(c.useState)(!1),i=Object(l.a)(a,2),o=i[0],r=i[1],s=Object(c.useState)(1),b=Object(l.a)(s,2),d=b[0],g=b[1],O=Object(c.useState)(!1),x=Object(l.a)(O,2),f=x[0],v=x[1],N=Object(c.useState)(""),S=Object(l.a)(N,2),P=S[0],k=S[1],C=function(){r(!1)},w=[{color:"inherit",className:t.nextPageFab,icon:Object(n.jsx)(B.a,{}),label:"Next",clickHandler:function(t){var a=e.currentPage+1;a<=e.maxPages&&(e.setCurrentPage(a),console.log("Current page changed ",e.currentPage))}},{color:"secondary",className:t.pageIndicatorFab,icon:"".concat(e.currentPage,"/").concat(e.maxPages),label:"".concat(e.currentPage,"/").concat(e.maxPages),clickHandler:function(e){r(!0)}},{color:"inherit",className:t.prevPageFab,icon:Object(n.jsx)(R.a,{}),label:"Prev",clickHandler:function(t){var a=e.currentPage-1;a>=e.minPages&&(e.setCurrentPage(a),console.log("prev current page changed ",a))}}];return Object(n.jsxs)(n.Fragment,{children:[w.map((function(e,t){return Object(n.jsx)(H.a,{"aria-label":e.label,className:e.className,color:e.color,onClick:e.clickHandler,children:e.icon})})),Object(n.jsxs)(u.a,{open:o,onClose:C,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(p.a,{id:"form-dialog-title",children:"Enter Page Number"}),Object(n.jsx)(h.a,{children:Object(n.jsx)(Y.a,{autoFocus:!0,margin:"dense",id:"pageNumber",label:"Page Number",type:"number",fullWidth:!0,error:f,helperText:P,onChange:function(t){e.minPages<=t.target.value&&t.target.value<=e.maxPages?(g(t.target.value),v(!1),k("")):(v(!0),k("Input a page number between ".concat(e.minPages,"-").concat(e.maxPages)))},onKeyDown:function(t){"Enter"===t.key&&(f||(r(!1),e.setCurrentPage(d),t.preventDefault()))},InputProps:{startAdornment:Object(n.jsx)(G.a,{position:"start",children:Object(n.jsx)(W.a,{})})}})}),Object(n.jsx)(m.a,{children:Object(n.jsx)(j.a,{onClick:C,color:"primary",children:"CLOSE"})})]})]})},q=a(57),Q=a(14),U=a(176),V=a(184),X=a(81),Z=a.n(X),$=a(82),_=a.n($),ee=a(177),te=Object(v.a)((function(e){return{root:{flexGrow:1},appBar:{backgroundColor:"#181818"},movieIcon:{fontSize:"250%",color:"#ff316f",marginRight:e.spacing(2),paddingTop:0,paddingBottom:0,paddingRight:0},title:Object(q.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(q.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Q.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Q.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(q.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}})),ae=function(e){var t=te();return Object(n.jsx)("div",{className:t.root,children:Object(n.jsx)(U.a,{position:"static",className:t.appBar,children:Object(n.jsxs)(ee.a,{children:[Object(n.jsx)(Z.a,{className:t.movieIcon}),Object(n.jsx)(I.a,{className:t.title,variant:"h6",noWrap:!0}),Object(n.jsxs)("div",{className:t.search,children:[Object(n.jsx)("div",{className:t.searchIcon,children:Object(n.jsx)(_.a,{})}),Object(n.jsx)(V.a,{placeholder:"Search\u2026",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},onChange:function(t){return e.setSearchTerm(t.target.value)}})]})]})})})},ne=a(64),ce=a.n(ne),ie=a(83),oe=a(84),re=a.n(oe),se=Object(v.a)((function(e){return{root:{display:"flex"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto",height:100},title:{width:140},cover:{width:151,height:170},controls:{display:"flex",alignItems:"center",paddingLeft:e.spacing(15)},playIcon:{height:38,width:38}}})),le=function(e){var t=se(),a=i.a.useState([0]),o=Object(l.a)(a,2),r=(o[0],o[1],Object(c.useState)([])),s=Object(l.a)(r,2),b=s[0],d=s[1];Object(c.useEffect)((function(){console.log("Search term was changed, ",e.searchTerm),j()}),[e.searchTerm,e.currentPage]);var j=function(){var t=Object(ie.a)(ce.a.mark((function t(){var a,n,c,i,o,r,s,l;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="https://www.omdbapi.com/?s="+e.searchTerm+"&apikey=a7d62505&page="+e.currentPage,t.next=3,fetch(a);case 3:return n=t.sent,t.next=6,n.json();case 6:if((c=t.sent).Search){if(i=parseInt(c.totalResults),e.nominatedMoviesList)for(o=0;o<c.Search.length;o++)for(c.Search[o].disableNominate=!1,r=0;r<e.nominatedMoviesList.length;r++)console.log("Search id ",c.Search[o].imdbID," storageid ",e.nominatedMoviesList[r].imdbID),c.Search[o].imdbID===e.nominatedMoviesList[r].imdbID&&(console.log("Disabled comparison succeeded "),c.Search[o].disableNominate=!0);else for(s=0;s<c.Search.length;s++)c.Search[s].disableNominate=!1;d(c.Search),l=Math.ceil(i/10),e.setMaxPages(l)}case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.jsx)(x.a,{container:!0,children:b.map((function(a,c){return Object(n.jsx)(x.a,{item:!0,children:Object(n.jsxs)(S.a,{className:t.root,children:[Object(n.jsx)(k.a,{className:t.cover,image:a.Poster,title:a.imdbID}),Object(n.jsxs)("div",{className:t.details,children:[Object(n.jsxs)(P.a,{className:t.content,children:[Object(n.jsx)(I.a,{className:t.title,component:"h5",variant:"h5",children:a.Title}),Object(n.jsx)(I.a,{variant:"subtitle1",color:"textSecondary",children:a.Year})]}),Object(n.jsx)("div",{className:t.controls,children:Object(n.jsx)(C.a,{"aria-label":"nominate",disabled:a.disableNominate,onClick:function(){e.onNominateClicked(a)},children:Object(n.jsx)(re.a,{})})})]})]})})}))})};var be=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),a=t[0],i=t[1],o=Object(c.useState)(!1),r=Object(l.a)(o,2),j=(r[0],r[1]),u=Object(c.useState)(!1),m=Object(l.a)(u,2),h=m[0],g=m[1],p=Object(c.useState)([]),f=Object(l.a)(p,2),v=(f[0],f[1],Object(c.useState)(1)),N=Object(l.a)(v,2),S=N[0],P=N[1],k=Object(c.useState)([]),C=Object(l.a)(k,2),w=C[0],y=C[1],I=Object(c.useState)(1),D=Object(l.a)(I,2),L=D[0],F=D[1],E=Object(c.useState)(!1),R=Object(l.a)(E,2),M=R[0],B=R[1],H=Object(c.useState)(!1),J=Object(l.a)(H,2),W=(J[0],J[1],Object(c.useState)({})),G=Object(l.a)(W,2);G[0],G[1],Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("omdb-app-nominations"));console.log("Nominated movies local storage ",e),e&&y(e)}),[]),Object(c.useEffect)((function(){a.length>=3&&j(!0),w.length>0&&g(!0)}),[a,w]);var Y=function(e){localStorage.setItem("omdb-app-nominations",JSON.stringify(e))},z=Object(b.a)({palette:{type:"dark"}});return Object(n.jsxs)(d.a,{theme:z,children:[Object(n.jsx)(ae,{setSearchTerm:i}),Object(n.jsxs)(x.a,{container:!0,direction:"row",children:[Object(n.jsx)(x.a,{item:!0,container:!0,direction:"column",xs:5,children:Object(n.jsx)(x.a,{item:!0,children:Object(n.jsx)(le,{searchTerm:a,currentPage:S,setMaxPages:F,onNominateClicked:function(e){if(w.length<4){e.disableNominate=!0;var t=[].concat(Object(s.a)(w),[e]);y(t),Y(t)}else if(4===w.length){e.disableNominate=!0;var a=[].concat(Object(s.a)(w),[e]);y(a),Y(a),B(!0)}else B(!0)},nominatedMoviesList:w})})}),Object(n.jsx)(x.a,{item:!0,xs:6,children:Object(n.jsx)(T,{movies:w,onRemoveNominationClicked:function(e){e.disableNominate=!1;var t=w.filter((function(t){return t.imdbID!==e.imdbID}));B(!1),y(t),Y(t)}})})]}),Object(n.jsx)(K,{maxPages:L,minPages:1,currentPage:S,setCurrentPage:P}),Object(n.jsx)(O,{hideButton:h,open:M,nominations:w})]})},de=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,187)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),i(e),o(e)}))};r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(be,{})}),document.getElementById("root")),de()}},[[125,1,2]]]);
//# sourceMappingURL=main.07832757.chunk.js.map